% This is "sig-alternate.tex" V2.0 May 2012
% This file should be compiled with V2.5 of "sig-alternate.cls" May 2012
%
% This example file demonstrates the use of the 'sig-alternate.cls'
% V2.5 LaTeX2e document class file. It is for those submitting
% articles to ACM Conference Proceedings WHO DO NOT WISH TO
% STRICTLY ADHERE TO THE SIGS (PUBS-BOARD-ENDORSED) STYLE.
% The 'sig-alternate.cls' file will produce a similar-looking,
% albeit, 'tighter' paper resulting in, invariably, fewer pages.
%
% ----------------------------------------------------------------------------------------------------------------
% This .tex file (and associated .cls V2.5) produces:
%       1) The Permission Statement
%       2) The Conference (location) Info information
%       3) The Copyright Line with ACM data
%       4) NO page numbers
%
% as against the acm_proc_article-sp.cls file which
% DOES NOT produce 1) thru' 3) above.
%
% Using 'sig-alternate.cls' you have control, however, from within
% the source .tex file, over both the CopyrightYear
% (defaulted to 200X) and the ACM Copyright Data
% (defaulted to X-XXXXX-XX-X/XX/XX).
% e.g.
% \CopyrightYear{2007} will cause 2007 to appear in the copyright line.
% \crdata{0-12345-67-8/90/12} will cause 0-12345-67-8/90/12 to appear in the copyright line.
%
% ---------------------------------------------------------------------------------------------------------------
% This .tex source is an example which *does* use
% the .bib file (from which the .bbl file % is produced).
% REMEMBER HOWEVER: After having produced the .bbl file,
% and prior to final submission, you *NEED* to 'insert'
% your .bbl file into your source .tex file so as to provide
% ONE 'self-contained' source file.
%
% ================= IF YOU HAVE QUESTIONS =======================
% Questions regarding the SIGS styles, SIGS policies and
% procedures, Conferences etc. should be sent to
% Adrienne Griscti (griscti@acm.org)
%
% Technical questions _only_ to
% Gerald Murray (murray@hq.acm.org)
% ===============================================================
%
% For tracking purposes - this is V2.0 - May 2012

\documentclass{sig-alternate}
\usepackage{nameref}
\usepackage[usenames]{color}
\usepackage{cleveref}

\newcommand{\basicalert}[2]{\fbox{\bfseries\sffamily\scriptsize\color{blue} #1}{\sf\small$\blacktriangleright$\textit{\color{red} #2}$\blacktriangleleft$} }
\newcommand{\mika}[1]{\basicalert{From Mika}{#1}}
\newcommand{\eetu}[1]{\basicalert{From Eetu}{#1}}
\newcommand{\juha}[1]{\basicalert{From Juha}{#1}}
%\newcommand{\mika}[1]{\ignorespaces}
%\newcommand{\eetu}[1]{\ignorespaces}
%\newcommand{\juha}[1]{\ignorespaces}

\begin{document}
%
% --- Author Metadata here ---
\conferenceinfo{WETSoM}{'14 Hyderabad, India}
%\CopyrightYear{2007} % Allows default copyright year (20XX) to be over-ridden - IF NEED BE.
%\crdata{0-12345-67-8/90/01}  % Allows default copyright data (0-89791-88-6/97/05) to be over-ridden - IF NEED BE.
% --- End of Author Metadata ---


\title{Agile metrics: How and why}
%\subtitle{[Extended Abstract]
%\titlenote{A full version of this paper is available as
%\textit{Author's Guide to Preparing ACM SIG Proceedings Using
%\LaTeX$2_\epsilon$\ and BibTeX} at
%\texttt{www.acm.org/eaddress.htm}}}

%
% You need the command \numberofauthors to handle the 'placement
% and alignment' of the authors beneath the title.
%
% For aesthetic reasons, we recommend 'three authors at a time'
% i.e. three 'name/affiliation blocks' be placed beneath the title.
%
% NOTE: You are NOT restricted in how many 'rows' of
% "name/affiliations" may appear. We just ask that you restrict
% the number of 'columns' to three.
%
% Because of the available 'opening page real-estate'
% we ask you to refrain from putting more than six authors
% (two rows with three columns) beneath the article title.
% More than six makes the first-page appear very cluttered indeed.
%
% Use the \alignauthor commands to handle the names
% and affiliations for an 'aesthetic maximum' of six authors.
% Add names, affiliations, addresses for
% the seventh etc. author(s) as the argument for the
% \additionalauthors command.
% These 'additional authors' will be output/set for you
% without further effort on your part as the last section in
% the body of your article BEFORE References or any Appendices.

\numberofauthors{3} %  in this sample file, there are a *total*
% of EIGHT authors. SIX appear on the 'first-page' (for formatting
% reasons) and the remaining two appear in the \additionalauthors section.
%
\author{
% You can go ahead and credit any number of authors here,
% e.g. one 'row of three' or two rows (consisting of one row of three
% and a second row of one, two or three).
%
% The command \alignauthor (no curly braces needed) should
% precede each author name, affiliation/snail-mail address and
% e-mail address. Additionally, tag each line of
% affiliation/address with \affaddr, and tag the
% e-mail address with \email.
%
% 1st. author
\alignauthor
Eetu Kupiainen\\
       \affaddr{Department of Computer Science and Engineering}\\
       \affaddr{Aalto University}\\
       \affaddr{FI- 00076 AALTO, FINLAND}\\
       \email{eetu.kupiainen@aalto.fi}
% 2nd. author
\alignauthor
Mika Mäntylä\\
       \affaddr{Department of Computer Science and Engineering}\\
       \affaddr{Aalto University}\\
       \affaddr{FI- 00076 AALTO, FINLAND}\\
       \email{mika.mantyla@aalto.fi}
% 3rd. author
\alignauthor
Juha Itkonen\\
       \affaddr{Department of Computer Science and Engineering}\\
       \affaddr{Aalto University}\\
       \affaddr{FI- 00076 AALTO, FINLAND}\\
       \email{juha.itkonen@aalto.fi}
}
% There's nothing stopping you putting the seventh, eighth, etc.
% author on the opening page (as the 'third row') but we ask,
% for aesthetic reasons that you place these 'additional authors'
% in the \additional authors block, viz.
%\additionalauthors{Additional authors: John Smith (The Th{\o}rv{\"a}ld Group,
%email: {\texttt{jsmith@affiliation.org}}) and Julius P.~Kumquat
%(The Kumquat Consortium, email: {\texttt{jpkumquat@consortium.net}}).}
%\date{30 July 1999}
% Just remember to make sure that the TOTAL number of authors
% is the number that will appear on the first page PLUS the
% number that will appear in the \additionalauthors section.

\maketitle
\begin{abstract}

\end{abstract}

% A category with the (minimum) three required fields
\category{H.4}{Information Systems Applications}{Miscellaneous}
%A category including the fourth, optional field follows...
\category{D.2.8}{Software Engineering}{Metrics}[agile metrics]

\terms{Theory}

\keywords{agile software development, metrics, measurement, systematic
literature review}

\section{Introduction}

% Software engineering is at a crossroads as there are new leaner and more
% agile software development methods appearing next to the traditional
% software development methods.
\mika{Kappaleen pointti: No literature reviews of actual metric use}
Software metrics have been studied for decades and several literature reviews
have been published.
Yet, the literature reviews have been written from an academic viewpoint that
typically focuses on the effectiveness of a single metric. For example, Catal
et al. review fault prediction metrics \cite{catal2009systematic}, Purao et
al. review metrics for object oriented systems \cite{purao2003product} and
Kitchenham performs a mapping of most cited software metrics
papers \cite{kitchenham_whats_2010}. To our knowledge there are no systematic
literature reviews on the actual use of software metrics in the industry.

\mika{Kappaleen pointti: Agile on tärkeää eikä metriikkoja tutkittu}
Agile software development is becoming increasing popular in the software
industry. The agile approach seems to be contradicting with the traditional
metrics approaches. However, at the same time agile software development
highlights some measures that should be used, e.g. burndown graphs and 100\%
automated unit testing coverage. However, measurement research with agile
methods remains scarce.

The goal of this paper is to review the literature of actual use of software
metrics in the context of agile software development. This study will lay out
the current state of industrial agile metric papers. Moreover, the study
uncovers the reasons for metric usage as well as highlights actions that the
use of metrics can trigger. Due to our research goal, we are more interested
in case studies and actual empirical findings than unproven theories or
models. The performed SR has more research questions but for this paper only
the following questions are considered:

%\section{Background}

%\subsection{Agile software development}
%\eetu{tässä voisi olla historianäkökulma, voipi mennä pitkäks eikä niin
%mielenkiintoinen ehkä tässä paperissa} 

%Agile development methods have emerged to the software world ruled by
%traditional heavyweight methods. In agile methods the focus is in lightweight
%working practices, constant deliveries and customer collaboration over long
%planning periods, heavy documentation and inflexible development phases.

%Agile manifesto created by agile enthusiasts \cite{beck2001agile} lists agile
%principles that give an idea what is agile development about. Popular agile
%development methods include Scrum \cite{schwaber2002agile}, Extreme
%Programming \cite{beck2004extreme} and Kanban \cite{anderson2010kanban}.



%\subsection{Evidence based software engineering}

%\subsection{Measurement}
%According to Fenton et al.\cite{fenton1998software} ``Measurement is the
%process by which numbers of symbols are assigned to attributes of entities in
%the real world in such way as to describe them according to clearly defined
%rules.''

%\subsection{Previous metric research}

%There are a few mapping studies on software metrics(tähän vois lisätä ne
% kitch whats 2010:ssä olevat muut mut en tiiä mitä lisäarvoa ne tois).
%\cite{kitchenham_whats_2010} says there is a large body of research related
% to software metrics. However, she highlights that all evidence should be
%critically appraised so that further studies can be based on good quality
%evidence. She also reminds researchers to understand the context where
% metrics are taken from - failure to understand context will probably not provide
%answers to industry-related questions. 

%--EBSE
%--Mittaamisen SR:t
%--Agile mittaamisen muut tutkimukset vai enemmänkin tutkimuksessa käytettyjen
%termien ja käsitteiden selittäminen


% \subsection{Aims and research questions} The aim of this paper is to provide
% preliminary results from a systematic review (SR) on agile metrics.
%Moreover, we are interested on the industrial use of metrics in agile
% context.

\begin{enumerate}
  \item Why are metrics used?
  \item What actions do the use of metrics trigger?
  \item Which metrics are used?
\end{enumerate}

This paper is structured as follows. Section...

\section{Review method}
SR was chosen as research method because we are trying to understand a problem
instead of trying to find a solution to it. Also, there was already
existing literature that could be synthesized.

\subsection{Protocol development}
Kitchenham's guide for SRs \cite{kitchenham2004procedures} was used as a basis
for developing the review protocol. Additionally, other
guidelines \cite{webster2002analyzing}, a lessons learned from SRs
\cite{brereton2007lessons}, a SR case \cite{dyba_empirical_2008} and a SR
on SR \cite{kitchenham2013systematic} were used to further understand the
challenges and opportunities of SRs. 

The protocol was also iterated in weekly meetings with the researchers, as
well as in a pilot described in \ref{pilot}.

\subsection{Search and selection process}

The strategy for finding primary studies was following:

\begin{enumerate}
  \item Initial check that there are enough papers to conduct SR
  \item Stage 1: Automated search
  \item Pilot
  \item Stage 2: Selection based on title and abstract
  \item Stage 3: Selection based on full text. Conduct data
  extraction and quality assessment.
\end{enumerate}

Table \ref{SelectionFunnel} shows the selection funnel in terms of amount
papers after each stage.

%\includegraphics{SelectionFunnel.jpg}

\begin{table}
\centering
\caption{Paper selection funnel}
\begin{tabular}{|l|c|r} \hline
\label{SelectionFunnel}
\textbf{Phase} & \textbf{Amount of papers} \\ \hline
Phase 1 & 774 \\ \hline 
Phase 2 & 163 \\ \hline
Phase 3 & 27\\
\hline
\end{tabular}
\end{table}

%\subsubsection{Search strings}
Scopus was used to find the primary documents with automated search. Keywords
include popular agile development methods and synonyms for metrics. Search was
conducted three times because we noticed some key papers and XP conferences were not found initially. The search strings, hits and dates can
be found from \cref{app:Strings}. 

\subsubsection{Inclusion criteria}

\begin{itemize}
  \item Papers that present the use and experiences of metrics in an agile
  industry setting.
\end{itemize}

\subsubsection{Exclusion criteria}

\begin{itemize}
  \item Papers that don't contain empirical data from industry cases.
  \item Papers that are not in English.
  \item Papers that don't have agile context. There is evidence of
  clearly non-agile practices or there is no agile method named. For example,
  paper mentions agile but case company has only three releases per year.
  \item Paper is only about one agile practice, which is not related to
  measuring.
  \item Papers that don't seem to have any data about metric usage. Similarly,
  if there are only a few descriptions of metrics but no other info regarding
  reasons or usage.
  \item Papers that have serious issues with grammar or vocabulary and
  therefore it takes considerable effort to understand sentences.
  \item Papers that refer to another paper where the actual case is discussed.
  \item Papers that are in academic or semi-academic setting - customer or
  part of workers are from industry. The reason for this is that it doesn't
  fully represent industry setting as software development methods are likely
  enforced by academia.
  \item Papers where results cannot be separated by setting, for example
  surveys where there is data both from academia and industry. Similar
  exclusion if results cannot be separated by software development method. 
  \item Papers where the setting is not clear. For example only mention of
  context is ``100 junior developers''.
  \item Papers that are full conference proceedings. Individual papers should
  be already listed separately.
  \item Papers where the measurements are only used for the research. For
  example author measures which agile practices correlate with success.
  \item Papers that don't even show measurement usage in a pilot setting. For
  example method or metric is used against static industrial data set.
  %\item Papers that are about the same case, from the same author and same
  %research focus, basically the paper format has just changed slightly.
\end{itemize}


\subsubsection{Stage 1 - Automatic search}

Scopus was used as the only search engine as it contained the most relevant
databases IEEE and ACM. Also, it was able to find Agile- and XP conference
papers. Only XP Conference 2013 was searched manually because it couldn't be
found through Scopus.

\subsubsection{Pilot}
\label{pilot}
A pilot study was conducted in order to refine the aim of the research and get
familiar with the research method. Moreover, it was possible to modify the
method and tools.

15 papers were examined from the automatic search:

\begin{itemize}
  \item 5 by top relevance
  \item 5 by top citations
  \item 5 by random
\end{itemize}

The pilot resulted in changing citation manager tool from Zotero to Jabref.
Also, selection by title and selection by abstract steps were joined together.
The quality assessment checklist was decided on.

\subsubsection{Stage 2 - Selection by title and abstract}

In stage 2 papers were included and excluded by the first author based on
their title and abstract. As the quality of abstracts can be poor in computer
science \cite{kitchenham2004procedures}, full texts were also skimmed through
in case of unclear abstracts - especially introduction, case description and
conclusions were checked briefly. Also, if there were any unclear cases -
they were discussed in weekly meetings and an exclusion rule was
documented if necessary.

Selection process was also done for a sample of 26 papers by the second author
- the level of agreement was substantial with Kappa 0.67 \cite{landis_measurement_1977}.

\subsubsection{Stage 3 - Selection by full text}

Stage 3 included multiple activities in one work flow. Selection by full text
was done, data was coded and quality assessment was done. Once again, if there
were unclear papers, they were discussed in meetings. Also, selection of 7
papers was conducted by the second author with an almost perfect agreement,
Kappa 1.0 \cite{landis_measurement_1977}.

\subsection{Data extraction}

Integrated coding was selected for data extraction strategy \cite{6092576}. It
provided focus to research questions but flexibility regarding findings.
Deductive coding would have been too restraining and inductive coding might
have caused too much bias. Integrated coding made it possible to create a
sample list of code categories, namely:

\begin{itemize}
  \item Why is measurement used?
  \item How is measurement used?
  \item Metrics
\end{itemize}

The coding started with the first author reading the full text and marking
interesting quotes with a temporary code. After, reading the full text first
author checked each quote and coded again with an appropriate code based on
the built understanding. In weekly meetings, we slowly built a rule set
for collecting metrics:

\begin{itemize}
  \item Collect metric only if team or company uses it.
  \item Don't collect metrics that are only used for the comparison and
  selection of development methods. \eetu{taa pitais ehka perustella. ``We
  wanted to focus on metrics that benefit the team or are used by the team on
  a daily basis.'' Toisaalta jotku flow mittarit ei oikein mene em. lausunnon
  sisään.}
  \item Don't collect metrics that are primarly used to compare teams.
  \eetu{taakin pitais perustella. Sinansa vaikea koska monia kerattyja mittareita ainakin
  voi kayttaa vertailuun. Lisäsin ``primarly''.}
  \item Collect metric only if something is said about why it is used or what
  actions it causes. 
\end{itemize}
	

Atlas.ti Visual QDA(Qualitative Data Analysis), version 7.1.x was used to
collect and synthesize the qualitative data.

To evaluate the repeatability of finding the same metrics, another researcher
coded metrics from three papers. Capture-recapture method
\cite{seber2002estimation} was then used which showed that 90\% of metrics
were found.

\subsection{Quality assessment}
Quality assessment form adopted from \cite{dyba_empirical_2008} was used to
evaluate the quality of each primary document. Additionally, a relevancy
factor was added to the same assessment to describe how useful the paper
was for this study. The scale for the relevancy factor is:

\begin{itemize}
  \item 0 = doesn't contain any information regarding metrics and should be
  already excluded
  \item 1 = only descriptions of metrics with no additional info
  \item 2 = some useful information related to metrics
  \item 3 = a good amount of relevant information regarding metrics and metric
  usage
\end{itemize}

\subsubsection{Data synthesis}
Data synthesis followed the steps recommended by Cruzes et al \cite{6092576}.
Process started by going through all quotes within one code and giving each quote a
more descriptive code describing the quote in high level. Then the descriptive
codes were organized in groups based on their similarity. These groups were
then given a high level code which are seen as categories in
\cref{WhyHowCategories}.

\section{Results - Why and how are metrics used}

This chapter presents the preliminary results from the systematic literature 
review. \Cref{PublicationDistribution} shows the distribution of primary
documents by publication channels. \Cref{OverviewOfPdocs} lists the
primary documents and context info.

\begin{table}
\centering
\caption{Publication distribution of primary documents}
\label{PublicationDistribution}
\begin{tabular}{llll}
\hline Publication channel & Type & \# & \%\\
\hline Agile Conference & Conference & 7 & 33\\
ICSE & Conference & 2 & 10\\
ICSE & Workshop & 2 & 10\\
XP Conference & Conference & 2 & 10\\
Agile Development Conference & Conference & 1 & 5\\
APSEC & Conference & 1 & 5\\
ASWEC & Conference & 1 & 5\\
%ECIS & Conference & 1 & 5\\
%ECSA & Conference & 1 & 5\\ 
Elektronika ir Elektrotechnika & Journal & 1 & 5\\
Empirical Software Engineering & Journal & 1 & 5\\
EUROMICRO & Conference & 1 & 5\\
HICCS & Conference & 1 & 5\\
ICSP & Conference & 1 & 5\\
%ICSSP & Conference & 1 & 5\\
IST & Journal & 1 & 5\\
IJPQM & Journal
& 1 & 5\\
JSS & Journal & 1 & 5\\
PROFES & Conference & 1 & 5\\
Software - Prac. and Exp. & Journal & 1 & 5\\
WETSoM & Workshop & 1 & 5\\
\hline

\end{tabular}
\end{table}

\begin{table*}
%\centering
\caption{Overview of primary studies}
\label{OverviewOfPdocs} 
\begin{tabular}{lllllp{5.5cm}} \hline
ID & Year & Research method & Agile method & Team size & Domain\\
\hline \cite{Cataldo2011161} & 2011 & Singlecase & FDDScrumMix & 179 in 13
teams & Navigation system for automobiles\\
\cite{Cheng200929} & 2009 & Multicase &  NA/Scrum/Scrum & 9/7/5 & ERP/Graphic design plug-in/Facility management\\
\cite{Elssamadisy2002617} & 2002 & Single-experience & XP & 50 & Enterprise
resource solution for the leasing industry \\
\cite{Mujtaba2010139} & 2010 & Singlecase & ScrumXPMix & Dev site 600 &
Telecom\\
\cite{Petersen2011975} & 2011 & Singlecase & ScrumXPMix & Dev site 500 &
Telecom\\
\cite{Petersen2010654} & 2010 & Singlecase & AgileMix & 6-7 & Telecom\\
\cite{Seikola2011321} & 2011 & Singlecase & ScrumBan & 6-8 & Telecom
maintenance\\
\cite{Shen200725} & 2007 & Singlecase & ScrumXPMix & 4 &
Independent software developer \\
\cite{Talby2006100} & 2006 & Singlecase & XPMix & 15 & Enterprise information
system\\
\cite{Staron20101069} & 2010 & Singlecase & LeanMix & project size 100 &
Telecom\\
\cite{Staron20113} & 2011 & Singlecase & LeanMix & project size 200 & Telecom\\
\cite{Petersen20101275} & 2010 &  Singlecase & LeanMix & NA & Telecom\\
\cite{Jakobsen2011168} & 2011 & Singlecase & LeanScrumFDD & 5$\pm$2 &
Information and communication software development\\
\cite{Janus20129} & 2012 & Single-experience & XPMix & NA & Web application
development\\
\cite{Polk2011263} & 2011 & Single-experience & AgileMix & 9 and 6 & 
Casino games\\
\cite{Talby200940} & 2009 & Singlecase & XP & 15 & Enterprise information
system\\
\cite{Trapa2006243} & 2006 &  Single-experience & ScrumXPMix & NA & Telecom\\
\cite{Green2011} & 2011 & Survey & Scrum & 26 teams & Desktop and SaaS
products\\
\cite{Greening2010} & 2010 & Single-experience & Scrum & 5-9 & NA\\
\cite{Hodgetts2004106} & 2004 & Multicase & XP/Scrum & 4-18/6-9 &
b-2-b e-commerce solutions/Criminal justice system development\\
\cite{Mahnic201273} & 2012 & Singlecase & Scrum & 6-8 &Web page development\\
\cite{Trimble20134826} & 2013 & Singlecase & ScrumMix & 5 & Space mission
control software\\
\cite{LNBIP01490121} & 2013 & Single-experience & Scrum & 25 teams & Software
for oil and gas industry\\
\cite{Petersen2012108} & 2012 & Singlecase & LeanMix & NA & Telecom\\
\cite{Middleton2007387} & 2007 & Singlecase & Lean & Comp. 160 devs& Various\\
\cite{Hodgkins2007194} & 2007 & Singlecase & ScrumMix & 500 & Security
services\\
\cite{Dubinsky200512} & 2005 & Singlecase & XP & 15 & Enterprise information
system\\ \hline
\end{tabular}
\end{table*}


Categories for reasons and use of measurements are listed in
\cref{WhyHowCategories}. The following chapters will describe each category in
more detail.

\begin{table}
\centering 
\caption{Categories for why and how measurement usage}
\label{WhyHowCategories}
\begin{tabular}{c p{2,5cm}} \hline
Categories & Sources\\ \hline
\nameref{sec:IterationPlanning}&
\cite{Elssamadisy2002617}\cite{Polk2011263}\cite{Cheng200929}\cite{Greening2010}\cite{Hong2010310}
\cite{Mahnic201273}\cite{Haugen200623}\cite{Hodgkins2007194}\cite{Hodgkins2007194}\\
\nameref{sec:IterationTracking} &
\cite{Petersen2011975}\cite{Talby2006100}\cite{Mahnic201273}\cite{Dubinsky200512}\cite{Hong2010310}
\cite{LNBIP01490121}\cite{Green2011}\cite{Elssamadisy2002617}\cite{Middleton2007387}\cite{Trapa2006243}
\cite{Trimble20134826}\cite{Hodgetts2004106}\cite{Staron20101069}\cite{Seikola2011321}\cite{Polk2011263}
\cite{Greening2010}\cite{Petersen20101275}\\
\nameref{sec:Motivate} &
\cite{Trapa2006243}\cite{Talby200940}\cite{Jakobsen2011168}\cite{LNBIP01490121}\cite{Cheng200929}
\cite{Polk2011263}\cite{Staron20101069}\cite{Talby2006100}\\
\nameref{sec:ProblemIdentification} &
\cite{Petersen2011975}\cite{Trapa2006243}\cite{Middleton2007387}\cite{Jakobsen2011168}\cite{Staron20101069}
\cite{Mahnic201273}\cite{Petersen2010654}\cite{Shen200725}\cite{Mujtaba2010139}\cite{Tudor2006367}
\cite{Petersen2012108}\\
\nameref{sec:PreQuality} &
\cite{Cataldo2011161}\cite{Janus20129}\cite{Janus20129}\cite{Dubinsky200512}\cite{Trapa2006243}\\
\nameref{sec:PostQuality} &
\cite{Petersen2010654}\cite{Cheng200929}\cite{Green2011}\cite{Staron20101069}\\
\nameref{sec:ChangesInProcesses} &
\cite{Jakobsen2011168}\cite{Petersen2011975}\cite{Mujtaba2010139}\cite{LNBIP01490121}\cite{Staron20101069}
\cite{Janus20129}\cite{Staron20113}\cite{Petersen20101275}\\
\hline
\end{tabular}
\end{table}


\subsection{Iteration planning}
\label{sec:IterationPlanning}
Many metrics centered around iteration planning. Tasks for the next iteration
were selected and prioritized with the help of metrics.

Many metrics were focused to help in the prioritization of tasks for the next
iteration \cite{Greening2010}\cite{Haugen200623}\cite{Hodgkins2007194}. Effort
estimation metrics were used scope out features that would not fit to the
iteration \cite{Elssamadisy2002617}.
Consequently, velocity metrics were used to calculate how many features is the
team able to complete in an iteration \cite{Polk2011263}. Velocity metrics
were also used to improve next iterations estimates \cite{Mahnic201273}.
Also, task's start and end date metric was used to point out interdependent
tasks in planning phase \cite{Hong2010310}. Knowing the teams' effective
available hours was useful when selecting tasks for an iteration
\cite{Cheng200929}.
Measuring the completion of tasks enabled selecting incomplete tasks to the
next iteration \cite{Hong2010310}.
Prioritization of features was affected by a metric that measured the amount
of revenue a customer is willing to pay for a feature.
Higher valued customers got their features done first. \cite{Hodgkins2007194}
 

\subsection{Iteration tracking} %completion}
\label{sec:IterationTracking}
% Timely manner of completing iteration is one of the cornerstones of agile
% development !ISKEVIITE.
Purpose of iteration tracking was to make sure that the tasks selected for the
iteration were completed and that necessary modifications were done to the
plan to end the iteration according to schedule.
Metrics helped in monitoring, identifying problems and predicting end result.

Progress metrics made it transparent to stakeholders how the iteration is
progressing.
\cite{Petersen2011975}\cite{Talby2006100}\cite{Mahnic201273}\cite{Dubinsky200512}\cite{Hong2010310}\cite{Green2011}\cite{Trapa2006243}\cite{Trimble20134826}.
Progress metrics included number of completed web pages \cite{Hong2010310},
story completion percentage \cite{Trapa2006243} and velocity metrics
\cite{Dubinsky200512}.
However, using velocity metrics had also negative effects such as cutting
corners in implementing features to maintain velocity with the cost of quality
\cite{Elssamadisy2002617}. One unorthodox progress metric was product
demonstrations with customer \cite{Trimble20134826}. \eetu{taa vika lause
vaatis ehka jotain hiomista. Ei se oo sinänsä epätavallinen tapa nayttaa
tuotetta asiakkaalle mutta siina ei aseteta numeroa attribuutille.}

%Risk management was also mentioned often, for example a metric was added
%where it seemed valuable in decreasing a risk \cite{Dubinsky200512},  
%\cite{Talby2006100}\cite{Trapa2006243}\cite{Dubinsky200512}\cite{Talby200940}.

If it seemed that not all planned tasks could be completed, tasks were cut
from the iteration
\cite{Mahnic201273}\cite{Dubinsky200512}\cite{Middleton2007387} or extra
resources were added \cite{Dubinsky200512}\cite{Middleton2007387}.

 % Almost anyone could walk into a team's room and with a quick glance
 % understand what is the status of the iteration.
When there were problems that needed to be fixed - metrics helped in making
decisions to fix them - whether they were short or long term
\cite{Staron20101069}\cite{Dubinsky200512}\cite{Petersen2011975}\cite{LNBIP01490121}.
It was possible to base decisions on data, not only use common sense and
experience \cite{Talby200940}. Balance of work flow was mentioned as a reason
for using metrics in multiple papers
\cite{Polk2011263}\cite{Petersen2010654}\cite{Petersen20101275}\cite{Greening2010}\cite{Petersen2011975}\cite{Dubinsky200512}\cite{Jakobsen2011168}.
Crosstraining people to work on multiple disciplines was used to balance the
work flow\cite{Middleton2007387}\cite{Talby200940}. Also, metrics were used to
focus work on tasks that matter the most \cite{Talby200940}, avoid partially
done work \cite{Seikola2011321}, avoid task switching \cite{Seikola2011321}
and polishing of features \cite{Talby200940}. Finally, open defects metric was
used delay a release \cite{Hodgetts2004106}.

%\subsubsection{Project progress}
%While iteration completion is important - so is the whole project's completion.
%Metrics were also used to monitor the whole project: assess risks, follow work
%completion and 

\subsection{Motivate and enable team to improve}
\label{sec:Motivate}
% (Agile methods emphasize self-empowerment - this was also visible in the
% used metrics.)
This section describes metrics that were used to motivate people and make
them improve on their own.

Metrics were used to communicate different data about the project or product
to the team members
\cite{Trapa2006243}\cite{Talby200940}\cite{Polk2011263}\cite{Staron20101069}
\cite{Talby2006100}.
Measurement data motivated teams to act and improve their
performance\cite{Talby200940}\cite{Polk2011263}\cite{Cheng200929}\cite{LNBIP01490121}\cite{Jakobsen2011168}.
Some examples included fixing the build
faster by visualizing build status \cite{Jakobsen2011168}\cite{LNBIP01490121},
fixing bugs faster by showing amount of defects in monitors \cite{Cheng200929}
and measuring size by automated tests motivated team to write more tests
\cite{Talby200940}.

Metrics were also used to prevent harmful behaviour such as cherry picking
tasks that are most interesting to a developer. Measuring work in progress and
setting WIP limits prevented cherry picking by enforcing only few work items
at a time. \cite{Middleton2007387}

\subsection{Problem identification}
\label{sec:ProblemIdentification}
Metrics were often used to identify or avoid problems in processes and work
flows. This chapter describes how metrics were used to spot problems.

There were multiple cases highlighting how metrics are used to identify or
predict problems so that the problems could be solved or avoided
\cite{Petersen2011975}\cite{Trapa2006243}\cite{Mahnic201273}\cite{Petersen2010654}\cite{Shen200725}\cite{Mujtaba2010139}\cite{Tudor2006367}.

Sometimes there were work phases where no value was added, for example
``waiting for finalization''. This type of activity was called waste and was
identified by using lead time. \cite{Petersen2012108}

Story implementation flow metric helped to identify a problem with receiving
customer requirement clarifications \cite{Jakobsen2011168}.

Creating awareness with defect trend indicator helped to take actions to avoid
problems \cite{Staron20101069}. One common solution to problems was to find
the root cause \cite{Jakobsen2011168}\cite{Middleton2007387}.

\subsection{Pre-release quality}
\label{sec:PreQuality}
Metrics in the pre-release quality category were used to prevent defects
reaching customers and to understand what was the current quality of the
product.

Integration fails were a common problem to avoid with code metrics
\cite{Cataldo2011161}\cite{Janus20129}. Moreover, metrics were used to make
sure that the product is sufficiently tested before the next step in the
release path \cite{Janus20129}\cite{Dubinsky200512}. Additionally, making sure
that the product is ready for further development was mentioned
\cite{Green2011}. Also, using metrics to improve pre-release quality was a goal in one
case \cite{Janus20129}.
Some metrics forced writing tests before actual code \cite{Trapa2006243}.
Technical debt was measured with a technical debt board which was used to
facilitate discussion on technical debt issues \cite{LNBIP01490121}.

\subsection{Post-release quality}
\label{sec:PostQuality}
Metrics in post-release quality deal with evaluating the quality of the
product after it has been released.

Customer satisfaction, customer responsiveness and quality indicators are seen
as attributes of post-release quality. Some metrics include customer input to
determine post-release quality\cite{Petersen2010654}
\cite{Green2011}\cite{Cheng200929}[] while other metrics use pre-release data
as predictors of external quality\cite{Staron20101069}
\cite{Petersen2010654}\cite{Green2011}. Customer related metrics included for
example defects sent by customers\cite{Cheng200929}, change requests from
customers\cite{Petersen2010654} and customer's willingness to recommend
product to other potential customers\cite{Green2011}.
Quality prediction metrics included defect counts\cite{Petersen2010654},
maintenance effort\cite{Staron20101069} and deferred defect
counts\cite{Green2011}.

\subsection{Changes in processes or tools}
\label{sec:ChangesInProcesses}
This chapter lists what kind of changes metrics
had for processes and tools.

The successful usage of sprint readiness metric and story flow metric changed
company policy to have target values for both metrics as well as monthly
reporting of both metrics by all projects \cite{Jakobsen2011168}.

At Ericsson by monitoring the flow of requirements metric they decided to
change their implementation flow from push to pull to help them deliver in a
more continuous manner. Also, based on the metric they added intermediate
release version to have release quality earlier in the development
cycle.\cite{Petersen20101275}

Changes to requirements managements were also done based on metrics in
an other case at Ericsson\cite{Mujtaba2010139}. 

Problem with broken build, and the long times to fix the build, gave birth
to measurements that monitor and visualize the state of the build and the time
it takes to fix it
\cite{LNBIP01490121}\cite{Jakobsen2011168}\cite{Janus20129}.

Also, additional code style rules were added to code check-in and build tools
so that builds would fail more often and defects would get caught before the
release \cite{Jakobsen2011168}\cite{Janus20129}. Similarly, testing approaches
were changed based on flow metrics \cite{Mujtaba2010139}\cite{Staron20113}.

\section{Discussion}

\subsection{Implications for practice}
To provide implications to practice we map our findings to the values of agile
software development \cite{beck2001agile}.

\mika{TODO: Pitaa selvasti tuoda esiin  mappaus. Principlet jarjestykseen.
Viite mista principlet tulee. Joka principlen kohdalta ensin mika sita tukee.
 Ja sitten jos loydettiin jotain ristiriittaista periaatteen kanssa. 
 Lisaksi principlet jarjestykseen.  Ja lopuksi mille principlelle ei ollut
 mittareita.
  -> Future work Pitaisiko olla ja millaisia} \eetu{Done.} 

Agile principle \#1: ``Our highest priority is to satisfy the customer through
early and continuous delivery of valuable software.'' was seen in the team
measuring progress through demonstrating the product to the customer
\cite{Trimble20134826}.

Agile principle \#2: ``Welcome changing requirements, even late in
development. Agile processes harness change for the customer's competitive
advantage.'' was seen in the metrics that support prioritization of features
per iteration, see \cref{sec:IterationPlanning}. Additionally, different
metrics help keeping the internal quality of the product high throughout the
development which then provides safe development of modifications or new
ideas, see \cref{sec:PreQuality}.

Agile principle \#3: ``Deliver working software frequently, from a couple of
weeks to a couple of months, with a preference to the shorter timescale''  was
seen in many metrics focusing on tracking and timely completion of the
iteration, see \cref{sec:IterationTracking}

Agile principle \#4:``Business people and developers must work 
together daily throughout the project.'' was seen how different metrics
are used to share information to all stakeholders about the project, see
\cref{sec:Motivate} and \cref{sec:IterationTracking}. 

Agile principle \#5:``Build projects around motivated individuals. Give them
the environment and support they need, and trust them to get the job done''
was reflected in metrics that motivated team to act and improve, see
\cref{sec:Motivate}.

Agile principle \#6:``The most efficient and effective method of 
conveying information to and within a development 
team is face-to-face conversation.'' was seen in \cite{LNBIP01490121} where
a technical debt board measuring the level of technical debt was used to
facilitate face-to-face discussion on technical debt issues, see
\ref{sec:PreQuality}. \eetu{Tahan saattaisi loytya kaivamalla lisaa
tarvittaessa.}

Agile principle \#7:``Working software is the primary measure of progress'' 
was directly identified in one paper, where the team measured progress by
demonstrating the product to the customer. Additionally, there were cases
where for example completed web-pages \cite{Hong2010310} were the primary
progress measure. However, some other measures from Section 
\cref{sec:IterationTracking} show that instead of working code agile teams
followed completed tasks and velocity metrics. \mika{mita tarkoittaa risk
management interation tracking kohdassa en tajua}
\eetu{Kommentoin risk managementin pois. Se oli osittain paallekkaista kamaa
Problem Identificationin kanssa. + melkein kaikki kama israelin casesta}

Agile principle \#8:``Agile processes promote sustainable development. The
sponsors, developers, and users should be able to maintain a
constant pace indefinitely.'' was followed with metrics targeted to balance
the flow of work, see \cref{sec:IterationTracking}.

Agile principle \#9:``Continuous attention to technical excellence 
and good design enhances agility.'' was seen in focus to measuring technical
debt and using metrics to enforce writing tests before actual code, see
\cref{sec:PreQuality}. Additionally, the status of build was continuously
monitored, see \cref{sec:ChangesInProcesses}. However, the use of velocity
metric had a negative effect on technical quality, see
\cref{sec:IterationTracking}.

Agile principle \#10:``Simplicity--the art of maximizing the amount 
of work not done--is essential.'' was seen from different perspectives: on one
hand metrics focused on problem/waste identification, see
\cref{sec:ProblemIdentification}, and on the other hand many metrics focused
on making sure that the right features were selected for implementation, see
\cref{sec:IterationPlanning}.

Agile principle \#11:``The best architectures, requirements, and designs
emerge from self-organizing teams.'' was seen in metrics that motivate the
team to improve, see \cref{sec:Motivate}. Other perspective is that since
effort estimation is done by the team, the team is then more motivated to
accomplish the goal, see \cref{sec:IterationPlanning}.

Agile principle \#12: ``At regular intervals, the team reflects on how to
become more effective, then tunes and adjusts its behavior accordingly'' was
visible in metrics that were used to identify problems and to change
processes, see \cref{sec:ProblemIdentification} and 
\cref{sec:ChangesInProcesses}.


\mika{paljon vittauksia Iteration tracking kappaleeseen. Onkohan kaikki
oikein?} \eetu{Naytti olevan ihan oikein. IterationTracking verkko taitaa
sisaltaa eniten tavaraa.}

\subsection{Implications for research}
It was interesting to notice that there wasn't many code metrics, only the
ones mentioned in \cite{Cataldo2011161}\cite{Janus20129} even though we feel
there are many studies regarding the benefits of code metrics. Maybe there are
some practical problems implementing and analysing the data from code metrics?

How to measure unmeasured agile principles...

In general, we think there were many metrics that were targeted for the team -
instead of high focus on managerial or upper management reporting metrics.
Making metrics visible for the team enables them to independently act and
improve without the need of rapid supervision and telling people what to do.

\eetu{(toinen judu mitä täällä voisi olla niin vertailu perinteisiin tai
agiilikirjallisuudessa suositeltuihin)
(kolmas judu: Koodimittarit oli aika heikosti edustettuna - vain muutama.
Joka on sin?ns? mielenkiintoista koska tutkimuksissa ne on hyvin
edustettuna(kai). Mut ilmeisesti tila tulee vastaan ni nää vois unohtaa
toistaiseksi}


\subsection{Limitations}
Telecommunications sector is widely represented in this study with eight
papers from Ericsson. Also, Israeli Air Force was presented in three
papers.

Sometimes it was hard to understand which metrics an author was referring
when a ``why'' was described. Moreover, we had to sometimes assume that when
author describes the reasons for using a tool, he would be actually talking
about the metrics the tool shows.

Whenever a new coding rule was decided it was hard to make sure that all
previously coded primary documents would get the same treatment.

Coding ``sense'' improved over time so it is possible that some
information was not spotted from the primary documents in the beginning of the
study.

It is possible that researcher bias could have had an effect on the results.
First author has positive mindset towards agile methods, as well as towards
certain metrics over others.


\section{Conclusions}

This paper presents the preliminary results from a systematic literature
review. Results indicate that the use and reasoning of metrics is focused on
the following areas:

\begin{itemize}
  \item \nameref{sec:IterationPlanning}
  \item \nameref{sec:IterationTracking}
  \item \nameref{sec:Motivate}
  \item \nameref{sec:ProblemIdentification}
  \item \nameref{sec:PreQuality}
  \item \nameref{sec:PostQuality}
  \item \nameref{sec:ChangesInProcesses}
\end{itemize}

We also map the found metrics to the principles of Agile Manifesto
\cite{beck2001agile}.

\eetu{So what now? What did we learn and what should be done now? Mitä nämä
tulokset merkitsee?Ainakin voisin sanoa että ihan mukavasti löyty materiaalia. Jonkin verran
löytyi samanlaisia asioita eri papereista. Tietyllä tapaa kiinnostaisi
vertailu perinteisiä mittareita vastaan. Onko näillä mittareilla loppupeleissä
mitään eroa jo vuosikausia käytössä ollleihin mittareihin nähden? Onko jotain
yhdistäviä konteksteja havaittavissa jolloin voisi yleistää havaintoja? Myös
lista tärkeiksi koetuista mittareista olisi kiva (tämähän mulla on jo
pienellä alulla). Voinko suositella tuloksissa esiteltyjä mittareita?}

%\end{document}  % This is where a 'short' article might terminate
%ACKNOWLEDGMENTS are optional
\section{Acknowledgments}
U-QASAR rahoitus?

%
% The following two commands are all you need in the
% initial runs of your .tex file to
% produce the bibliography for the citations in your paper.
\bibliographystyle{abbrv}
\bibliography{sigproc}  % sigproc.bib is the name of the Bibliography in this case
% You must have a proper ".bib" file
%  and remember to run:
% latex bibtex latex latex
% to resolve all references
%
% ACM needs 'a single self-contained file'!
%
%APPENDICES are optional
%\balancecolumns
\appendix 
%Appendix A
\section{Search strings}
\label{app:Strings}

The first search string was:

TITLE-ABS-KEY(software AND (agile OR lean OR "crystal method" OR "crystal
clear" OR dsdm OR "dynamic systems development method" OR fdd OR "feature
driven development" OR "agile unified process" OR "agile modeling" OR scrumban
OR kanban OR scrum OR "extreme programming" OR xp) AND (measur* OR metric OR
diagnostic OR monitor*)) AND (LIMIT-TO(SUBJAREA, "COMP")) AND
(LIMIT-TO(LANGUAGE, "English"))

It found 512 hits 19 September 2013.

%Then we noticed that some previously found key papers were missing from the
%hits because they were under sub area ``Engineering'', thus 
The second search string was:

TITLE-ABS-KEY(software AND (agile OR lean OR "crystal method" OR "crystal
clear" OR dsdm OR "dynamic systems development method" OR fdd OR "feature
driven development" OR "agile unified process" OR "agile modeling" OR scrumban
OR kanban OR scrum OR "extreme programming" OR xp) AND (measur* OR metric OR
diagnosticOR monitor*)) AND (LIMIT-TO(LANGUAGE, "English")) AND
(LIMIT-TO(SUBJAREA, "ENGI")) AND (EXCLUDE (SUBJAREA, "COMP") OR
EXCLUDE(SUBJAREA, "PHYS") OR EXCLUDE(SUBJAREA,"MATE") OR EXCLUDE (SUBJAREA,
"BUSI") OR EXCLUDE(SUBJAREA, "MATH") OR EXCLUDE(SUBJAREA, "ENVI") OR
EXCLUDE (SUBJAREA, "EART") OR EXCLUDE(SUBJAREA, "DECI") OREXCLUDE (SUBJAREA,
"ENER"))

It found 220 hits 7 November 2013.

The third search string was:

TITLE-ABS-KEY(software AND (agile OR lean OR "crystal method" OR "crystal
clear" OR dsdm OR "dynamic systems development method" OR fdd OR "feature
driven development" OR "agile unified process" OR "agile modeling" OR scrumban
OR kanban OR scrum OR "extreme programming" OR xp) AND (measur* OR metric OR
diagnosticOR monitor*)) AND (LIMIT-TO(LANGUAGE, "English")) AND
(LIMIT-TO(SUBJAREA, "BUSI")) AND (EXCLUDE (SUBJAREA, "ENGI") OR
EXCLUDE(SUBJAREA, "COMP"))

It found 42 hits 10 December 2013.



% This next section command marks the start of
% Appendix B, and does not continue the present hierarchy
%\balancecolumns % GM June 2007
% That's all folks!
\end{document}
